
<!doctype html>
<html lang="en">

  <head>
    <meta charset="utf-8">
    <title>Keeping it real with web</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">

    <link rel="stylesheet" href="lib/reveal.js/css/reveal.css">
    <link rel="stylesheet" href="lib/reveal.js/css/theme/black.css">
    <link rel="stylesheet" href="lib/reveal.js/lib/css/zenburn.css">
    <link rel="stylesheet" href="style.css">
  </head>
  <body>

    <div class="reveal">
      <div class="slides">
        <section data-background="#fff">
          <h1>Keeping it real</h1>
          <h2>with web</h2>
        </section>
        <section>
          <section>
            <h1>Hi, I'm Ben</h1>
            <h2>@BenjaminBenBen</h2>
          </section>
          <section>
            <h3>Freelance JavaScript developer</h3>
            <h3>based in Oxford<span class="fragment">, UK</span></h3>
          </section>
          <section data-background="images/oxfords.png" data-background-size="cover" ></section>
          <section data-background="images/oxford-ca.png" data-background-size="contain" > </section>
          <section data-background="images/oxford-ca-zoom.png" data-background-size="contain" > </section>
          <section data-background="images/oxford-ca-satellite.png" data-background-size="contain" > </section>
          <section><h3>Oxford, UK <span class="fragment">(not CA)</span></h3></section>

          <section><h1>Some stuff that I've enjoyed doing</h1></section>
          <section data-background="images/projects-1.jpg" data-background-size="cover" ></section>
          <section data-background="images/projects-2.jpg" data-background-size="cover" ></section>

          <section data-background="images/the-web-and-us.svg" data-background-size="contain"></section>
          <section data-background="images/the-web-and-us-2.svg" data-background-size="contain"></section>
          <section data-background="images/the-web-and-us-3.svg" data-background-size="contain"></section>

        </section>

        <section>
          <!-- <section>
            <h1>Virtual Reality Experiences &amp; The Web with WebVR</h1>
          </section> -->
          <section>
            <h4>Today</h4>
            <h2>VR, The Web &amp; WebVR</h2>
            <h2>Consuming and Creating WebVR</h2>
            <h2>Compimentary APIs &amp; Approaches</h2>
            <h2>Virtual content</h2>
            <h2>Queen Victoria &amp; Nicola Pellow</h2>
          </section>
        </section>

        <section data-background="#fff">
          <h2>VR, The Web &amp; WebVR</h2>
        </section>

        <section>
          <section>
            <h1>VR</h1>
          </section>
          <section data-background="images/overview-crystal-palace.jpg"><!-- great exhibition 1851 --></section>
          <!-- <section>
            <h2>Stereoscopic Viewers</h2>
          </section> -->
          <section>
            <img class="stretch" src="images/overview-brewster.png"/>
            <!-- This was hugely successful because Victoria was so respected by the masses -->
          </section>
          <section>
            <h3>[picture] vs [stereoscope]</h3>
            <!--
              As well as being 3d, there's a subtly important difference.

              When you're looking through a device like this, you're re-experiencing the sensation of seeing that for yourself.

              This is why it's harder to move in VR, if you were to switch scenes like in video, it'd be extremly jarring.
            -->
            <!-- you don't have to have empathy with the photographer -->
          </section>
          <section>
            [graph]
            <!-- https://books.google.com/ngrams/graph?year_start=1800&year_end=2008&corpus=15&smoothing=7&case_insensitive=on&content=stereoscopic&direct_url=t4%3B%2Cstereoscopic%3B%2Cc0%3B%2Cs0%3B%3Bstereoscopic%3B%2Cc0%3B%3BStereoscopic%3B%2Cc0%3B%3BSTEREOSCOPIC%3B%2Cc0#t4%3B%2Cstereoscopic%3B%2Cc0%3B%2Cs0%3B%3Bstereoscopic%3B%2Cc1%3B%3BStereoscopic%3B%2Cc0%3B%3BSTEREOSCOPIC%3B%2Cc0 -->
          </section>
          <section>
            <!-- 162 -> cardboard -->
            <h1>162 years later</h1>
          </section>
          <!-- <section>
            <h3>Occulus Rift</h3>
          </section> -->
          <section>
            <!-- later -->
            <img src="images/overview-cardboard.png" />
            <!-- Google is like Queen Victoria, respected by the masses -->
          </section>
          <section>
            <h3>Cardboard</h3>
            <h3>GearVR, Daydream</h3>
            <h3>Occulus Rift, Vive, Hololens</h3>
            <!-- <h3>PSVR</h3> -->
            <h3>Vive Standalone, WindowsMR</h3>
            <!-- <h3>tango, phones?[todo]</h3> --><!-- Magic window -->
          </section>
        </section>

        <section>
          <section>
            <h1>The Web</h1>
          </section>
          <section data-background="images/overview-timbl.jpg"></section>
          <section>
            <h2>The Web:</h2>
            <div class="fragment">
              <h1><small>1/</small> <span class="fragment">URL</span></h1>
              <h1><small>2/</small> <span class="fragment">HTTP</span></h1>
              <h1><small>3/</small> <span class="fragment">HTML</span></h1>
            </div>
            <!-- URL, an address system that keeps track of Web documents
            HTTP, a transport protocol to find documents when given their URLs
            HTML, a document format allowing for embedded hyperlinks -->
          </section>
          <section data-background="images/overview-www.jpg"></section>
          <section>
            <h2>The Browser:</h2>
            <h1 class="fragment">Presentation</h1>
          </section>
          <section>
            <h2>Killer feature of every browser:</h2>
            <h1 class="fragment">The next version</h1>
          </section>
          <section>
            <h2>
              The Web &amp; Web Browser
            </h2>
          </section>

          <!-- 1 - supporting a new system
          2 - wider audience -->
          <section>
            <h1>VR?</h1>
            <h3 class="fragment">Should browsers support VR?</h3>
            <h3><span class="fragment">Yes</span><span class="fragment">.</span> <span class="fragment">Absolutely.</span></h3>
          </section>
        </section>


        <section>
          <section>
            <h1>WebVR</h1>
          </section>
          <!-- <section>
            <h2>1995 - VRML</h2>
          </section> -->
          <section>
            <h2>The Extensible Web Manifesto</h2>
          </section>
          <section>
            <h1>WebVR 1.0<span class="fragment">, 1.1</span><span class="fragment">, 2.0</span></h1>
            <!-- <h1>WebVR 1.1</h1>
            <h1>WebVR 2</h1> -->
          </section>

          <section>
            <h2>What does WebVR let you do?</h2>

            <h3>1/ Query available headsets</h3>
            <h3>2/ Access a headset pose</h3>
            <h3>3/ Show content on headset</h3>

            <h4 style="margin-top:3em">&amp; handle related challenges

          </section>

          <!-- <section>
            <h3>(&amp; some related challenges)</h3>
            <h4>1/ Higher refresh rates</h4>
            <h4>2/ Exposing device capabilities</h4>
            <h4>3/ Handling various usage patterns</h4>
          </section> -->



          <section>
            <h1>Code</h1>
            <pre><code data-trim data-noescape>
              <span class="fragment">
              // get a list of attached/supported displays
              navigator.getVRDisplays()
              </span>
              <span class="fragment">
              // access pose/position of headset
              display.getFrameData(frameData)
              </span>
              <span class="fragment">
              // present canvas on device
              display.requestPresent([{source: GLCanvas}])
              </span>
            </code></pre>
          </section>


          <section>
            <img class="stretch" src="images/browser-support.svg" />
            <!--
              This is slightly hard, because it's based on hardware
            -->
          </section>

        </section>

        <section data-background="#fff">
          <h1>Consuming WebVR</h1>
        </section>

        <section>
          <section data-background="images/feel-start-min.svg" data-background-size="contain">
          </section>
          <section data-background="images/feels-start-usual.svg" data-background-size="contain">
          </section>
          <section data-background="images/feels-start-inline.svg" data-background-size="contain">
          </section>

          <section>
            <h2>Device type</h2>
            <h1>Daydream (Android)</h1>
          </section>
          <section data-background="images/feel-daydream.svg" data-background-size="contain">
          </section>
          <section data-background="images/feel-daydream-controller.svg" data-background-size="contain">
          </section>
          <section data-background="images/feel-daydream-render.svg" data-background-size="contain">
          </section>

          <section>
            <h2>Device type</h2>
            <h1>Vive (PC)</h1>
          </section>
          <section data-background="images/feels-desktop-start.svg" data-background-size="contain">
          </section>
          <section data-background="images/feels-desktop-active.svg" data-background-size="contain">
          </section>

          <section>
            <h2>Device type</h2>
            <h1>GearVR (Android)</h1>
          </section>
          <section data-background="images/feel-gear-vr.svg" data-background-size="contain">
          </section>
          <section>
            <h2>Different ui, same code</h2>
          </section>
        </section>

        <section data-background="#fff">
          <h1>Creating WebVR</h1>
        </section>

        <section>
          <h1>Several ways to do this</h1>
          <h3>Low level &rarr; High level</h3>
        </section>

        <section>
          <section>
            <h1>#1</h1>
            <h1>(live) code from scratch</h1>
          </section>
          <section>
            <h3>You probably shouldn't do this one</h3>
          </section>
          <section>
            <h2><a href="about:blank" target="_blank">about:blank</a></h2>
          </section>
          <section>
            <h3>Make a canvas element</h3>
            <h2><pre><code data-trim data-copyable>
              const canvas = document.createElement('canvas')
              canvas.height = 1080
              canvas.width = 960*2
              document.body.appendChild(canvas)

              // just to make sure it's there
              canvas.style.border = '10px solid green'
            </code></pre></h2>
          </section>
          <section>
            <h3>Initialise WebGL</h3>
            <h2><pre><code data-trim data-copyable>
              const gl = canvas.getContext('webgl')
            </code></pre></h2>
          </section>
          <section>
            <h3>Find a VR display</h3>
            <h2><pre><code data-trim data-copyable>
              let display
              navigator.getVRDisplays()
                .then(displays => display = displays[0])
            </code></pre></h2>
          </section>
          <section>
            <h3>Display our canvas</h3>
            <h2><pre><code data-trim data-copyable>
              display.requestPresent([{source: canvas}])
            </code></pre></h2>
          </section>
          <section>
            <h1>[daydream loading]</h1>
          </section>
          <section>
            <h1>[controller pairing]</h1>
          </section>
          <section>
            <h3>See if it's working</h3>
            <h2><pre><code data-trim data-copyable>
              gl.clearColor(1,0.5,0,1)
              gl.clear(gl.COLOR_BUFFER_BIT)
            </code></pre></h2>
          </section>
          <section>
            <h3>VRFrameData</h3>
            <h2><pre><code data-trim data-copyable>
              const fd = new VRFrameData()
            </code></pre></h2>
          </section>
          <section>
            <h3>Populate it</h3>
            <h2><pre><code class="hljs javascript" data-trim data-copyable>
              display.requestAnimationFrame(() => {
                display.getFrameData(fd)
              })
            </code></pre></h2>
          </section>
          <section>
            <h3>This is not a WebGL talk</h3>
            <h2><pre><code data-trim data-copyable>
              const renderFrameData=function(l){var k=function(a){for(var b=function(a,b,e,h){h=void 0===h?1:h;var g=Math.sqrt(1.25)/2*h,c=.5*h;h=[a+0,b+0,e+g];var f=[a-g,b-c,e-g],d=[a+0,b+c,e-g];a=[a+g,b-c,e-g];b=[1,.5,0];e=[0,1,.5];g=[.5,0,1];c=[1,0,.5];return[h,b,f,b,d,b,h,e,a,e,f,e,h,g,d,g,a,g,f,c,a,c,d,c].reduce(function(a,b){return a.concat(b)},[])},f=[],d=-7;7>d;d++)for(var m=-7;7>m;m++)f=f.concat(b(d,-.75,m,.2));b=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,b);a.bufferData(a.ARRAY_BUFFER,new Float32Array(f),
              a.STATIC_DRAW);b=a.createShader(a.FRAGMENT_SHADER);a.shaderSource(b,"precision mediump float; varying vec3 v_color; void main() { gl_FragColor = vec4(v_color, 1.0); }");a.compileShader(b);d=a.createShader(a.VERTEX_SHADER);a.shaderSource(d,"attribute vec3 a_position; attribute vec3 a_color; varying vec3 v_color; uniform mat4 u_view; uniform mat4 u_proj; void main() { v_color = a_color; gl_Position = u_proj * u_view * vec4(a_position, 1.0); }");a.compileShader(d);var c=a.createProgram();a.attachShader(c,
              d);a.attachShader(c,b);a.linkProgram(c);var k=a.getAttribLocation(c,"a_position"),n=a.getAttribLocation(c,"a_color"),l=a.getUniformLocation(c,"u_view"),q=a.getUniformLocation(c,"u_proj"),p=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);a.enable(a.DEPTH_TEST);return function(b,d,e){a.useProgram(c);a.uniformMatrix4fv(l,!1,b||p);a.uniformMatrix4fv(q,!1,d||p);e?a.viewport.apply(a,e):a.viewport(0,0,a.canvas.width,a.canvas.height);a.vertexAttribPointer(k,3,a.FLOAT,!1,24,0);a.enableVertexAttribArray(k);
              a.vertexAttribPointer(n,3,a.FLOAT,!1,24,12);a.enableVertexAttribArray(n);a.drawArrays(a.TRIANGLES,0,f.length/6)}}(l);return function(a){var b=canvas.width,f=canvas.height;k(a.leftViewMatrix,a.leftProjectionMatrix,[0,0,b/2,f]);k(a.rightViewMatrix,a.rightProjectionMatrix,[b/2,0,b/2,f])}}(gl);
            </code></pre></h2>

            <h5><br/><br/><small>(full source: github/benfoxall/microgl)</small></h5>
          </section>
          <section>
            <h3>Use our helper to render to canvas</h3>
            <h2><pre><code data-trim data-copyable>
              renderFrameData(fd)
            </code></pre></h2>
          </section>
          <section>
            <h3>Create an animation loop</h3>
            <h2><pre><code data-trim data-copyable>
              function animate() {
                if(display.isPresenting) display.requestAnimationFrame(animate)
                gl.clear(gl.DEPTH_BUFFER_BIT | gl.COLOR_BUFFER_BIT)

                display.getFrameData(fd)
                renderFrameData(fd)
                display.submitFrame()
              }
            </code></pre></h2>
          </section>
          <section>
            <h3>Run it</h3>
            <h2><pre><code data-trim data-copyable>
              display.requestAnimationFrame(animate)
            </code></pre></h2>
          </section>
        </section>

        <section>
          <section>
            <h1>#2</h1>
            <h1>three.js</h1>
            <h4>extensive 3d library</h4>
          </section>
          <section>
            <h1>[three]</h1>
          </section>
        </section>

        <section>
          <section>
            <h1>#3</h1>
            <h1>a-frame</h1>
            <h4>html-like</h4>
          </section>
          <section>
            <h1><a target="_blank" href="https://aframe.io/aframe/examples/boilerplate/hello-world/">[a-frame]</a></h1>
          </section>
        </section>

        <section>
          <section>
            <h1>#4</h1>
            <h1>Vizor / PlayCanvas</h1>
            <h4>graphical IDE</h4>
          </section>
          <section>
            <h1>[vizor]</h1>
          </section>
        </section>

        <section data-background="#fff">
          <h1>Complimentary APIs &amp; Approaches</h2>
          <!-- WebVR isn't a magical self contained thing, a lot of technologies make it better -->
        </section>

        <section>
          <h2>WebVR isn't a magical box</h2>
        </section>

        <section>
          <section>
            <h3>WebVR</h3>
            <h1>+ WebGL</h1>
            <!-- this is a bit of an obvious one -->
          </section>
          <section>
            <h1>[WebGL]</h1>
          </section>
          <section>
            <h3><pre><code data-trim class="hljs javascript">
              const fData = new VRFrameData()

              display.getFrameData(fData)

              // fData = {leftViewMatrix: […], pose: {…}, etc}
            </code></pre></h3>
          </section>
          <section>
            <h3><pre><code data-trim class="hljs javascript">
              gl.uniformMatrix4fv(u_projection, false,
                fData.leftProjectionMatrix)

              gl.uniformMatrix4fv(u_view, false,
                fData.leftViewMatrix)
            </code></pre></h3>
          </section>
          <section>
            <h1><pre><code data-trim class="hljs javascript">
              device.requestAnimationFrame()
            </code></pre></h1>
          </section>
        </section>

        <section>
          <section>
            <h3>WebVR</h3>
            <h1>+ Gamepad API</h1>
          </section>
          <section>
            <img src="images/gamepad.png" class="stretch" />
          </section>
          <section data-background="images/gamepad-vr.jpeg">
          </section>
          <section>
            <h1><pre><code data-trim>
              navigator.getGamepads()
            </code></pre></h1>
          </section>
        </section>

        <section>
          <section>
            <h3>WebVR</h3>
            <h1>+ Web Audio</h1>
          </section>
          <section data-background="images/webaudio.gif">
            <h3>Things make noise</h3>
          </section>
          <section>
            <h3>Noises come from places</h3>
          </section>
          <section>
            <h4><a href="http://ircam-rnd.github.io/binauralFIR/examples/" target="_blank">
              Spatial Audio
            </a></h4>
            <!-- http://ircam-rnd.github.io/binauralFIR/examples/ -->
          </section>
        </section>


        <section>
          <section>
            <h3>WebVR</h3>
            <h1>+ Progressive Web Apps</h1>
          </section>
          <section>
            <div class="row">
              <div class="">
                  <img src="images/home-daydream.png" alt="">
              </div>
              <div class="">
                  <img src="images/home-steam.jpg" alt="">
              </div>
            </div>
          </section>
          <section>
            <h2>Add to homescreen</h2>
          </section>
        </section>

        <section>
          <section>
            <h3>WebVR</h3>
            <h1>+ WebRTC</h1>
          </section>
          <section>
            <h3>Media Streams &amp; Data Channels</h3>
          </section>
          <section>
            <h3>Copresence</h3>
          </section>
        </section>

        <section>
          <section>
            <h3>WebVR</h3>
            <h1>+ WebBluetooth</h1>
          </section>
          <section>
            <h3></h3>
          </section>
          <section>
            <h3>[todo]</h3>
          </section>
        </section>


        <section data-background="#fff">
          <h2>Techniques / Approaches</h2>
          <!-- What skills do we have to offer -->
        </section>

        <section>
          <section>
            <h2>Feature Support</h2>
            <h4>&raquo; WebVR</h4>
          </section>
          <section>
            <h4>3DoF, 6DoF</h4>
            <h4>Room dimensions</h4>
            <h4>Seated/standing</h4>
            <h4>Controllers / Gaze-based</h4>
            <h4>Field of view</h4>
            <h4>Magic window</h4>
          </section>
          <section>
            <h3>We've got this</h3>
            <!--
              When we first started handling mobile devices, we made two mistakes:
              1. making "mobile only" sites
              2. attempting feature parity
            -->
          </section>
          <section data-background="images/device-lab.jpg">
            <!-- kind of like supporting mobiles -->
          </section>
          <section>
            <h3>Stuff we tried</h3>
            <h1 class="fragment">mobile sites</h1>
            <h1 class="fragment">device breakpoints</h1>
          </section>
          <section>
            <h3>Stuff that worked</h3>
            <h1 class="fragment">mobile first</h1>
            <h1 class="fragment">content breakpoints</h1>
          </section>
          <section>
            <h3>VR</h3>
            <h1>Avoid device-specific support</h1>
            <h1>Test for pain points</h1>
          </section>
        </section>


        <section>
          <section>
            <h2>Performance</h2>
            <h4>&raquo; WebVR</h4>
          </section>
          <section>
            <h3>bounce rates</h3>
            <h3>pagespeed</h3>
          </section>
          <section>
            <h3>todo: how we apply this to VR</h3>
          </section>
        </section>


        <section>
          <section>
            <h2>Accessibility</h2>
            <h4>&raquo; WebVR</h4>
          </section>
          <section>
            <h3>todo: what we've learned</h3>
          </section>
          <section>
            <h3>todo: how we apply this to VR</h3>
          </section>
        </section>

        <section>
          <section>
            <h2>UX</h2>
            <h4>&raquo; WebVR</h4>
          </section>
          <section>
            <h3>todo: what we've learned</h3>
            <!-- user stories -->
            <!-- ab testing -->
          </section>
          <section>
            <h3>todo: how we apply this to VR</h3>
          </section>
        </section>

        <section>
          <section>
            <h2>Broad Access</h2>
          </section>
          <section>
            <h4>Single-serving apps</h4>
          </section>
          <!--
            Is there a chance of openning one native experience and transitioning to another.
          -->
        </section>


        <section data-background="#fff">
          <h1>Virtual content</h1>
        </section>


        <section>

          <!-- not Johnny Mnemonic -->
        </section>

        <section>
          <section>
            Real world impact
          </section>
          <section>
            Bike Rides, conference websites
          </section>
        </section>

        <section>
          <section>
            Visualisation effectiveness
          </section>
        </section>


        <section data-background="#fff">
          <h1>Queen Victoria &amp; Nicola Pellow</h1>
        </section>

        <section>
          <section data-background="images/overview-queen-victoria.jpg"></section>
          <section>
            <h2>Big fan of stereoscopic viewers</h2>
            <h2 class="fragment">Drove adoption in 1850s</h2>
          </section>
          <section>
            <h2>Build WebVR content for other people</h2>
          </section>
        </section>

        <section>
          <section>
            <h1>Nicola Pellow</h1>
            <h3>
              <img src="images/NPellow.jpg" height=200>
            </h3>
          </section>
          <section>
            <h1>Line Mode</h1>
            <!-- <h2 class="fragment">Second ever web browser</h2> -->
          </section>
          <section>
            <h2>WorldWideWeb<span class="fragment">: NeXT</span></h2>
            <h2>Line-Mode<span class="fragment">: anything</span></h2>
          </section>
          <section data-background="images/this-is-for-everyone.jpg">
            <!-- <h1>The web was available to everyone</h1> -->
          </section>
          <section>
            <h1>WebVR is in this vein</h1>
          </section>
        </section>

        <section>
          <h1>Slides online</h1>
          <h3>&amp; Come chat</h3>
        </section>

        <section>
          <h1>Thank you for listening</h1>
          <h2>@benjaminbenben</h2>
        </section>

      </div>
    </div>


    <script src="lib/reveal.js/lib/js/head.min.js"></script>
    <script src="lib/reveal.js/js/reveal.js"></script>

    <script>

      Reveal.initialize({
        controls: false,
        progress: false,
        history: true,
        center: true,
        // margin: 0,
        width: 1280,
        height: 720,

        transition: 'slide',

        dependencies: [
          {
            src: 'scripts/copyable.js',
            async: true
          },
          {
            src: 'lib/reveal.js/plugin/highlight/highlight.js',
            callback: function() { hljs.initHighlightingOnLoad() }
          }

        ]
      })

    </script>

  </body>
</html>
